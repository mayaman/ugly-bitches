let R;const DEFAULT_SIZE=1e3;let WIDTH=3096,HEIGHT=3096;window.innerWidth>window.innerHeight?(WIDTH=window.innerHeight,HEIGHT=window.innerHeight):(WIDTH=window.innerWidth,HEIGHT=window.innerWidth);let myCanvas,bti,bc1,bc2,txtc,shadowColor,stickers,stickerTypeIndex,shadow,txtsi,punctuation,sentenceStructure,newString,idw,numWords,interjection,canvas,ctx,approxOne=WIDTH/800,DIM=Math.min(WIDTH,HEIGHT),M=DIM/1e3,textBoundingBoxes=[],textMinX=WIDTH,textMaxWidth=0,textMinY=HEIGHT,textMaxHeight=0,specialText=!1,splitText=!1,solidPalette=[{bgc:"#FFF3F9",txtc:"#F17BB6",sdc:"#EC4397"},{bgc:"#FFC8E3",txtc:"#EC4397",sdc:"#FC92C7"},{bgc:"#8ADEE3",txtc:"#FEFEFE",sdc:"#D5E3A2"},{bgc:"#D5E3A2",txtc:"#FC7BBB",sdc:"#EC4397"},{bgc:"#D5E3A2",txtc:"#FC7BBB",sdc:"#8ADEE3"},{bgc:"#FFC8E3",txtc:"#FEFAFD",sdc:"#FEFAFD"},{bgc:"#EC4397",txtc:"#FEFAFD",sdc:"#FC92C7"},{bgc:"#FFADD6",txtc:"#FEFAFD",sdc:"#F39393"},{bgc:"#FFC8E3",txtc:"#EC4397",sdc:"#FC92C7"},{bgc:"#E97652",txtc:"#FFC8E3",sdc:"#FC92C7"},{bgc:"#E97652",txtc:"#FFEFF7",sdc:"#E5D3FD"},{bgc:"#EC4397",txtc:"#FFC8E3",sdc:"#FFC8C8"},{bgc:"#E5D3FD",txtc:"#FDFCFF",sdc:"#FFEFF7"},{bgc:"#E5D3FD",txtc:"#FDFCFF",sdc:"#FDFCFF"},{bgc:"#FC7BBB",txtc:"#C8D4FF",sdc:"#E97652"},{bgc:"#FC7BBB",txtc:"#FEFAFD",sdc:"#D5E3A2"},{bgc:"#E5D3FD",txtc:"#EC4397",sdc:"#FFADD6"},{bgc:"#FFC8C8",txtc:"#FFFFFFFF",sdc:"#FFB0B0"},{bgc:"#FFADD6",txtc:"#EC4397",sdc:"#EC4397"},{bgc:"#FC7BBB",txtc:"#FFF3F9",sdc:"#FFADD6"},{bgc:"#C8D4FF",txtc:"#FC7BBB",sdc:"#E97652"},{bgc:"#C8D4FF",txtc:"#FFFFFF",sdc:"#F39393"},{bgc:"#FFADD6",txtc:"#94A8F4",sdc:"#94A8F4"},{bgc:"#F39393",txtc:"#FFC8E3",sdc:"#EC4397"},{bgc:"#FFEEEE",txtc:"#F17BB6",sdc:"#C8D4FF"},{bgc:"#FFC8E3",txtc:"#E97652",sdc:"#EC4397"},{bgc:"#D5E3A2",txtc:"#EC4397",sdc:"#FC7BBB"},{bgc:"#C8D4FF",txtc:"#EC4397",sdc:"#F39393"}],gradientPalette=[{gcs:["#E5D3FD","#FFC8E3","#C8D4FF","#D5E3A2"],txtc:"#FFFFFF"},{gcs:["#FFC8C8","#FFADD6","#C8D4FF","#D5E3A2"],txtc:"#FFFFFF"},{gcs:["#EC4397","#FFC8E3","#EC4397"],txtc:"#FFFFFF"},{gcs:["#FFC8E3","#C8D4FF","#FFC8E3","#F39393"],txtc:"#FFFFFF"},{gcs:["#DF4391","#F17BB6","#FFC8C8","#E5D3FD"],txtc:"#FFF3F9"},{gcs:["#C8D4FF","#A2E3DC","#D5E3A2"],txtc:"#FEFEFE"},{gcs:["#FFC8E3","#FFADD6","#FFC8C8","#F17BB6"],txtc:"#E53030"},{gcs:["#E5D3FD","#FFC8E3","#C8D4FF","#FEFEFE"],txtc:"#EC4397"},{gcs:["#D5E3A2","#A2E3DC","#C8D4FF"],txtc:"#FEFEFE"},{gcs:["#D5E3A2","#FFC8E3","#C8D4FF"],txtc:"#FEFEFE"},{gcs:["#E5D3FD","#FFC8E3","#A2E3DC","#D5E3A2"],txtc:"#FFFFFF"}],checkersPalette=[{txtc:"#FFFFFF",bgc:"#C8D4FF",ckc:"#FFC8E3",sdc:"#C0CCF8"},{txtc:"#ffffff",bgc:"#FFC8E3",ckc:"#E5D3FD",sdc:"#D2BBF0"},{txtc:"#ffffff",bgc:"#FFC8E3",ckc:"#FFADD6",sdc:"#F8A7CF"},{txtc:"#ffffff",bgc:"#FFC8C8",ckc:"#FFADD6",sdc:"#F8A7CF"}],heartPalette=[{hcs:["#FFC8E3","#FFADD6","#FC7BBB"],txtc:"#FEFAFD",sdc:"#EC4397"},{hcs:["#F5EEFF","#E5D3FD","#CAAAF3"],txtc:"#FCFAFE",sdc:"#713DB2"},{hcs:["#D3F8F4","#A2E3DC","#70CBC1"],txtc:"#FEFAFD",sdc:"#18746A"},{hcs:["#E7ECFF","#C8D4FF","#899DE4"],txtc:"#FAFAFE",sdc:"#2E459A"}],textSizeOptions=[.077,.088,.099,.11,.12,.14,.155,.18,.19],punctuationOptions=[".","!",".","!","","","","","","","","","",""],particles=[];class Random{constructor(){this.useA=!1;let t=function(t){let F=parseInt(t.substr(0,8),16),s=parseInt(t.substr(8,8),16),c=parseInt(t.substr(16,8),16),i=parseInt(t.substr(24,8),16);return function(){F|=0,s|=0,c|=0,i|=0;let t=(F+s|0)+i|0;return i=i+1|0,F=s^s>>>9,s=c+(c<<3)|0,c=c<<21|c>>>11,c=c+t|0,(t>>>0)/4294967296}};this.prngA=new t(tokenData.hash.substr(2,32)),this.prngB=new t(tokenData.hash.substr(34,32));for(let t=0;t<1e6;t+=2)this.prngA(),this.prngB()}r_d(){return this.useA=!this.useA,this.useA?this.prngA():this.prngB()}r_n(t,F){return t+(F-t)*this.r_d()}r_i(t,F){return Math.floor(this.r_n(t,F+1))}r_b(t){return this.r_d()<t}r_c(t){return t[this.r_i(0,t.length-1)]}}class GrowingHeart{constructor(t,F,s,c){this.x=t,this.y=F,this.size=s,this.fill=c,this.active=!0}animate(){angleMode(DEGREES),this.size+=approxOne,fill(this.fill),noStroke(),heart3(WIDTH/2,HEIGHT/2-this.size/2,this.size),this.size>4*WIDTH&&(this.active=!1)}}class Orb{constructor(t,F,s,c){this.x=t,this.y=F,this.r=s,this.c=c,this.vx=Math.random()*approxOne*4,this.vy=Math.random()*approxOne*4,this.sinValue=Math.random(),this.orbOffset=10*approxOne}animate(t,F,s){this.sinValue+=.01,this.r+=Math.sin(this.sinValue),this.x+=this.vx,this.y+=this.vy,this.x<0?(this.vx*=-1,this.x+=this.orbOffset):this.x>F&&(this.vx*=-1,this.x-=this.orbOffset),this.y<0?(this.vy*=-1,this.y+=this.orbOffset):this.y>s&&(this.vy*=-1,this.y-=this.orbOffset),t.beginPath();const c=t.createRadialGradient(this.x,this.y,.1*this.r,this.x,this.y,this.r);c.addColorStop(0,"rgba("+red(color(this.c))+","+green(color(this.c))+","+blue(color(this.c))+", 1)"),c.addColorStop(1,"rgba("+red(color(this.c))+","+green(color(this.c))+","+blue(color(this.c))+", 0)"),t.fillStyle=c,t.arc(this.x,this.y,this.r,0,2*Math.PI,!1),t.fill()}}class CandyHeart{constructor(t,F,s){this.string=t,this.color=F,this.type=s}draw(t,F,s){noStroke(),fill(this.color),noFill(),strokeWeight(.00444*WIDTH),stroke(this.color),"heart"==this.type?(fill(this.color),heart1(t,F,s)):"flower"==this.type?flower5Cutout(t,F+.444*s,.444*s,bc1,this.color):(fill(this.color),star(t,F+s/3,.3*s*2.22,.3*s,12)),textSize(.2444*s),push(),stroke(txtc),fill(txtc),textAlign(CENTER,CENTER),translate(t,F+1.444*s),strokeWeight(s/5*.03/2),text(this.string,0,0),pop()}}